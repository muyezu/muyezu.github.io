<html>
<head>

<script src="p5.min.js"></script>
<script src="p5.geolocation.js"></script>

<style>



</style>
</head>
<body>

<h1 id="locAvail"></h1>
<h1 id="distance"></h1>

<script>

var distance;
var mylat;
var mylon;
var treasurelat = 21.311285;
var treasurelon = -157.837918;

function setup() {
if(geoCheck() == true) {
//geolocation is avalable 
document.getElementById('locAvail').innerHTML = "Ready";
distance = calcGeoDistance(mylat,mylon,treasurelat,treasurelon,'mi');
}
else{
//error getting geolocation
document.getElementById('locAvail').innerHTML = "Must have GPS enabled";
}
intervalCurrentPosition(positionPing,1000);
enableHighAccuracy:true;
}

function positionPing(position) {
mylat = position.latitude;
mylon = position.longitude;
distance = calcGeoDistance(mylat,mylon,treasurelat,treasurelon,'mi');
document.getElementById('distance').innerHTML = distance.toFixed(5) + " mi";
if (distance < 0.001) {
document.getElementById('locAvail').innerHTML = "YOU FOUND THE TREASURE";
}
else{
document.getElementById('locAvail').innerHTML = "";
}
}

</script> 
</body>
</html>
